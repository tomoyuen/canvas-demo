{"version":3,"sources":["webpack:///./src/assets/images/particle.png","webpack:///src/components/demo.vue","webpack:///./src/components/demo.vue?03cf","webpack:///./src/components/demo.vue?81d1","webpack:///./src/components/demo.vue"],"names":["module","exports","init","container","scene","add","sphere","pointLight","position","x","y","z","color","size","map","particleMap","blending","THREE","AdditiveBlending","transparent","particle","velocity","Vector3","Math","random","particles","vertices","push","update","particleSystem","rotation","pCount","geometry","verticesNeedUpdate","renderer","render","camera","window","requestAnimationFrame","sortParticles","setSize","width","height","appendChild","domElement","data","msg","beforeCreate","console","log","created","beforeMount","mounted","this","$el","beforeUpdate","updated","_vm","_h","$createElement","_c","_self","staticRenderFns","component"],"mappings":"mGAAAA,EAAOC,QAAU,s1B,wECSjB,oBACA,qBAEA,KACA,MACA,KACA,MAEA,SAASC,EAAKC,GAEZ,IAAF,sBACA,mCACA,cAGA,KACA,KACA,KAGA,8CAGA,aACA,4BACA,GAGEC,EAAMC,IAAIC,GAGV,IAAF,6BAEEC,EAAWC,SAASC,EAAI,GACxBF,EAAWC,SAASE,EAAI,GACxBH,EAAWC,SAASG,EAAI,IAExBP,EAAMC,IAAIE,GAkBV,IAfA,IAAF,OACA,iBAGA,sBACA,cACA,wBACIK,MAAO,SACPC,KAAM,GACNC,IAAKC,EACLC,SAAUC,EAAMC,iBAChBC,aAAa,IAIjB,aAEI,IAAJ,wBACA,wBACA,wBACA,uBAGIC,EAASC,SAAW,IAAIJ,EAAMK,QAAQ,GAAIC,KAAKC,SAAU,GAGzDC,EAAUC,SAASC,KAAKP,GAI1B,IAAF,oBAoBE,SAASQ,IAEPC,EAAeC,SAASpB,GAAK,IAC7B,IAAJ,IACI,MAAOqB,IAAU,CAEf,IAAN,gBAEU,EAAV,SACQ,EAAR,MACQ,EAAR,cAGM,EAAN,6BACM,EAAN,gBAGIF,EAAeG,SAASC,oBAAqB,EAE7CC,EAASC,OAAO/B,EAAOgC,GAEvBC,OAAOC,sBAAsBV,GAvC/BC,EAAeU,eAAgB,EAG/BnC,EAAMC,IAAIwB,GAGVzB,EAAMC,IAAI+B,GAGVA,EAAO5B,SAASG,EAAI,IAGpBuB,EAASM,QAAQC,EAAOC,GAExBvC,EAAUwC,YAAYT,EAASU,YA2B/BhB,IAEF,QACEiB,KADF,WAEI,MAAO,CACLC,IAAK,UAGTC,aANF,WAOIC,QAAQC,IAAI,kBAEdC,QATF,WAUIF,QAAQC,IAAI,YAEdE,YAZF,WAaIH,QAAQC,IAAI,iBAEdG,QAfF,WAgBIJ,QAAQC,IAAI,WACZ/C,EAAKmD,KAAKC,MAEZC,aAnBF,WAoBIP,QAAQC,IAAI,kBAEdO,QAtBF,WAuBIR,QAAQC,IAAI,e,+DCnJhB,IAAId,EAAS,WAAa,IAAIsB,EAAIJ,KAASK,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAC/FE,EAAkB,G,YCDwT,S,YCO1UC,EAAY,eACd,EACA5B,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-56f8a282.e301fa29.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDUvMjgvMTGdjbKfAAABwklEQVQ4jdXUsWrjQBCA4X+11spikXAEUWdSuUjh5goXx1V5snu4kMLgyoEUgYNDhUHGsiNbCK200hWXFI7iOIEUd9Mu87E7MzsC6PjCcL4S+z/AwXuHQgg8T6GUi+MI2rbDmJqqMnTd26U/CXqeRxD4aO2ilIOUAms7jGkpipr9vqSqqo+BnudxcaEZjRRx7DIeK7SWFIUlSQxpKhkMHLZbemgPFEIQBD6jkeL62mc2u2QyuSIMA/J8z+Pjb+bzNQ8P0DTtedDzFFq7xLHLbHbJzc0PptPv+H5EWWYsl3fALZvNirK05LnCGHMaVOpvzcZjxWRy9Yx9A2J8P2U6hSRJuL/fsFoZhsNjsDc2jiOQUqC1JAwDfD8CYkA/oxFhGKC1REqB44jj/Ndg23ZY21EUljzfU5YZkAIFkFKWGXm+pygs1nbUdXOUL4Gfr5vi+wohBFFk0VoQRQNcN6Msf7Fc3rFYLFksnsiymu22oG3b0zWsKkNR1KSpZD5fA7ckSdLrcprWHA6Gpjm+oeCNbXN+Dmt2O8N6/YS19jz4gp76KYeDYbc79LB3wZdQSjEcKhxHUNcNVVX3nvkp8LPx7+/DP92w3rYV8ocfAAAAAElFTkSuQmCC\"","<template>\n  <div></div>\n</template>\n\n<script>\n/* eslint no-console: off */\nimport particleAsset from '../assets/images/particle.png';\n\n// 设置场景大小\nconst width = window.innerWidth,\n  height = window.innerHeight;\n// 设置一些相机参数\nconst viewAngle = 45,\n  aspect = width / height,\n  near = 0.1,\n  far = 1000;\n\nfunction init(container) {\n  // 创建渲染器、相机和场景\n  const renderer = new THREE.WebGLRenderer();\n  const camera = new THREE.PerspectiveCamera(viewAngle, aspect, near, far);\n  const scene = new THREE.Scene();\n\n  // 设置球体参数\n  const radius = 50,\n    segments = 16,\n    rings = 16;\n\n  // 创建球体表面的材质\n  const sphereMaterial = new THREE.MeshLambertMaterial({ color: 0xCC0000 });\n\n  // material覆盖在getmetry上，生成mesh\n  const sphere = new THREE.Mesh(\n    new THREE.SphereGeometry(radius, segments, rings),\n    sphereMaterial\n  );\n  // 将mesh加入到场景中\n  scene.add(sphere);\n\n  // 创建一个点光源\n  const pointLight = new THREE.PointLight(0xFFFFFF);\n  // 设置点光源位置\n  pointLight.position.x = 10;\n  pointLight.position.y = 50;\n  pointLight.position.z = 130;\n  // 将点光源加入场景\n  scene.add(pointLight);\n\n  // 创建例子geometry\n  const particleCount = 1800,\n    particles = new THREE.Geometry();\n\n  // 创建粒子基本材质\n  const loader = new THREE.TextureLoader();\n  const particleMap = loader.load(particleAsset);\n  const pMaterial = new THREE.PointsMaterial({\n    color: 0xFFFFFF,\n    size: 20,\n    map: particleMap,\n    blending: THREE.AdditiveBlending,\n    transparent: true,\n  });\n\n  // 依次创建单个粒子\n  for (let p = 0; p < particleCount; p++) {\n    // 粒子范围在-250到250之间\n    const pX = Math.random() * 500 - 250,\n      pY = Math.random() * 500 - 250,\n      pZ = Math.random() * 500 - 250,\n      particle = new THREE.Vector3(pX, pY, pZ);\n\n    // 为每个粒子创建一个水平运动速度\n    particle.velocity = new THREE.Vector3(0, -Math.random(), 0);\n\n    // 将粒子加入粒子geometry\n    particles.vertices.push(particle);\n  }\n\n  // 创建粒子系统\n  const particleSystem = new THREE.Points(particles, pMaterial);\n  // 允许粒子系统对粒子排序，以达到我们想要的效果\n  particleSystem.sortParticles = true;\n\n  // 将粒子系统加入场景\n  scene.add(particleSystem);\n\n  // 将相机加入场景\n  scene.add(camera);\n  // 相机的初始位置为原点\n  // 将相机拉回来一些\n  camera.position.z = 300;\n\n  // 启动渲染器\n  renderer.setSize(width, height);\n  // 将渲染器加到DOM结构中\n  container.appendChild(renderer.domElement);\n\n  // 画\n  // 帧循环\n  function update() {\n    // 增加一点旋转量\n    particleSystem.rotation.y += 0.01;\n    let pCount = particleCount;\n    while (pCount--) {\n      // 获取单个粒子\n      const particle = particles.vertices[pCount];\n      // 检查是否需要重置\n      if (particle.y < -250) {\n        particle.y = 250;\n        particle.velocity.y = 0;\n      }\n      // 用随机数更新水平速度分量，并根据速度更新位置\n      particle.velocity.y -= Math.random() * 0.1;\n      particle.add(particle.velocity);\n    }\n    // 告诉粒子系统我们改变了粒子位置\n    particleSystem.geometry.verticesNeedUpdate = true;\n    // 绘制粒子系统\n    renderer.render(scene, camera);\n    // 设置下一次刷新帧时对update的调用\n    window.requestAnimationFrame(update);\n  }\n  update();\n}\nexport default {\n  data() {\n    return {\n      msg: 'hello',\n    };\n  },\n  beforeCreate() {\n    console.log('before create');\n  },\n  created() {\n    console.log('created');\n  },\n  beforeMount() {\n    console.log('before mount');\n  },\n  mounted() {\n    console.log('mounted');\n    init(this.$el);\n  },\n  beforeUpdate() {\n    console.log('before update');\n  },\n  updated() {\n    console.log('updated');\n  },\n};\n</script>\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo.vue?vue&type=template&id=1245bc32&\"\nimport script from \"./demo.vue?vue&type=script&lang=js&\"\nexport * from \"./demo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}